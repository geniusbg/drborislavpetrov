"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/services/route";
exports.ids = ["app/api/admin/services/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fservices%2Froute&page=%2Fapi%2Fadmin%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fservices%2Froute.ts&appDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fservices%2Froute&page=%2Fapi%2Fadmin%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fservices%2Froute.ts&appDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_genius_Downloads_drborislavpetrov_src_app_api_admin_services_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/admin/services/route.ts */ \"(rsc)/./src/app/api/admin/services/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_Users_genius_Downloads_drborislavpetrov_src_app_api_admin_services_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_Users_genius_Downloads_drborislavpetrov_src_app_api_admin_services_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/services/route\",\n        pathname: \"/api/admin/services\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/services/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\genius\\\\Downloads\\\\drborislavpetrov\\\\src\\\\app\\\\api\\\\admin\\\\services\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_genius_Downloads_drborislavpetrov_src_app_api_admin_services_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/services/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnNlcnZpY2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnNlcnZpY2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZzZXJ2aWNlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNnZW5pdXMlNUNEb3dubG9hZHMlNUNkcmJvcmlzbGF2cGV0cm92JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNnZW5pdXMlNUNEb3dubG9hZHMlNUNkcmJvcmlzbGF2cGV0cm92JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RyLWJvcmlzbGF2LXBldHJvdi13ZWJzaXRlLz84NmE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGdlbml1c1xcXFxEb3dubG9hZHNcXFxcZHJib3Jpc2xhdnBldHJvdlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxzZXJ2aWNlc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRtaW4vc2VydmljZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9zZXJ2aWNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vc2VydmljZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxnZW5pdXNcXFxcRG93bmxvYWRzXFxcXGRyYm9yaXNsYXZwZXRyb3ZcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcc2VydmljZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL3NlcnZpY2VzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fservices%2Froute&page=%2Fapi%2Fadmin%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fservices%2Froute.ts&appDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/admin/services/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/admin/services/route.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/socket */ \"(rsc)/./src/lib/socket.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_database__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function GET(request) {\n    try {\n        const adminToken = request.headers.get(\"x-admin-token\");\n        if (!adminToken || adminToken !== \"test\" && adminToken !== \"mock-token\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const db = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        const result = await db.query(\"SELECT * FROM services ORDER BY name\");\n        db.release();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            services: result.rows\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const adminToken = request.headers.get(\"x-admin-token\");\n        if (!adminToken || adminToken !== \"test\" && adminToken !== \"mock-token\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { name, description, duration, price, isActive } = body;\n        const db = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        const result = await db.query(`\r\n      INSERT INTO services (name, description, duration, price, isActive)\r\n      VALUES ($1, $2, $3, $4, $5)\r\n      RETURNING *\r\n    `, [\n            name,\n            description,\n            duration,\n            price,\n            isActive ?? true\n        ]);\n        const newService = result.rows[0];\n        db.release();\n        // Emit WebSocket event\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_2__.emitServiceAdded)(newService);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            service: newService\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const adminToken = request.headers.get(\"x-admin-token\");\n        if (!adminToken || adminToken !== \"test\" && adminToken !== \"mock-token\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { id, name, description, duration, price, isActive } = body;\n        const db = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        const result = await db.query(`\r\n      UPDATE services \r\n      SET name = $1, description = $2, duration = $3, price = $4, isActive = $5\r\n      WHERE id = $6\r\n      RETURNING *\r\n    `, [\n            name,\n            description,\n            duration,\n            price,\n            isActive,\n            id\n        ]);\n        if (result.rowCount === 0) {\n            db.release();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Service not found\"\n            }, {\n                status: 404\n            });\n        }\n        const updatedService = result.rows[0];\n        db.release();\n        // Emit WebSocket event\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_2__.emitServiceUpdate)(updatedService);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            service: updatedService\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const adminToken = request.headers.get(\"x-admin-token\");\n        if (!adminToken || adminToken !== \"test\" && adminToken !== \"mock-token\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Service ID required\"\n            }, {\n                status: 400\n            });\n        }\n        const db = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        const result = await db.query(\"DELETE FROM services WHERE id = $1\", [\n            id\n        ]);\n        if (result.rowCount === 0) {\n            db.release();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Service not found\"\n            }, {\n                status: 404\n            });\n        }\n        db.release();\n        // Emit WebSocket event\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_2__.emitServiceDeleted)(id);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hZG1pbi9zZXJ2aWNlcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ1g7QUFDMEM7QUFFL0UsZUFBZUssSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBRXZDLElBQUksQ0FBQ0YsY0FBZUEsZUFBZSxVQUFVQSxlQUFlLGNBQWU7WUFDekUsT0FBT1AscURBQVlBLENBQUNVLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBZSxHQUN4QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTUMsS0FBSyxNQUFNWiwwREFBV0E7UUFDNUIsTUFBTWEsU0FBUyxNQUFNRCxHQUFHRSxLQUFLLENBQUM7UUFFOUJGLEdBQUdHLE9BQU87UUFDVixPQUFPaEIscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFFTyxVQUFVSCxPQUFPSSxJQUFJO1FBQUM7SUFDbkQsRUFBRSxPQUFPUCxPQUFPO1FBQ2QsT0FBT1gscURBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF3QixHQUNqQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVPLGVBQWVPLEtBQUtiLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxhQUFhRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUV2QyxJQUFJLENBQUNGLGNBQWVBLGVBQWUsVUFBVUEsZUFBZSxjQUFlO1lBQ3pFLE9BQU9QLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWUsR0FDeEI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1RLE9BQU8sTUFBTWQsUUFBUUksSUFBSTtRQUMvQixNQUFNLEVBQUVXLElBQUksRUFBRUMsV0FBVyxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUdMO1FBRXpELE1BQU1QLEtBQUss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QixxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFvQixHQUM3QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUFDLEdBQUdHLE9BQU87UUFFVix1QkFBdUI7UUFDdkJaLCtEQUFrQkEsQ0FBQzBCO1FBRW5CLE9BQU85QixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUVpQixTQUFTO1FBQUs7SUFDM0MsRUFBRSxPQUFPaEIsT0FBTztRQUNkLE9BQU9YLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kci1ib3Jpc2xhdi1wZXRyb3Ytd2Vic2l0ZS8uL3NyYy9hcHAvYXBpL2FkbWluL3NlcnZpY2VzL3JvdXRlLnRzP2NhN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBnZXREYXRhYmFzZSB9IGZyb20gJ0AvbGliL2RhdGFiYXNlJ1xyXG5pbXBvcnQgeyBlbWl0U2VydmljZUFkZGVkLCBlbWl0U2VydmljZVVwZGF0ZSwgZW1pdFNlcnZpY2VEZWxldGVkIH0gZnJvbSAnQC9saWIvc29ja2V0J1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhZG1pblRva2VuID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1hZG1pbi10b2tlbicpXHJcbiAgICBcclxuICAgIGlmICghYWRtaW5Ub2tlbiB8fCAoYWRtaW5Ub2tlbiAhPT0gJ3Rlc3QnICYmIGFkbWluVG9rZW4gIT09ICdtb2NrLXRva2VuJykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERhdGFiYXNlKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHNlcnZpY2VzIE9SREVSIEJZIG5hbWUnKVxyXG4gICAgXHJcbiAgICBkYi5yZWxlYXNlKClcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHNlcnZpY2VzOiByZXN1bHQucm93cyB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW5Ub2tlbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtYWRtaW4tdG9rZW4nKVxyXG4gICAgXHJcbiAgICBpZiAoIWFkbWluVG9rZW4gfHwgKGFkbWluVG9rZW4gIT09ICd0ZXN0JyAmJiBhZG1pblRva2VuICE9PSAnbW9jay10b2tlbicpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uLCBkdXJhdGlvbiwgcHJpY2UsIGlzQWN0aXZlIH0gPSBib2R5XHJcblxyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYXRhYmFzZSgpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5xdWVyeShgXHJcbiAgICAgIElOU0VSVCBJTlRPIHNlcnZpY2VzIChuYW1lLCBkZXNjcmlwdGlvbiwgZHVyYXRpb24sIHByaWNlLCBpc0FjdGl2ZSlcclxuICAgICAgVkFMVUVTICgkMSwgJDIsICQzLCAkNCwgJDUpXHJcbiAgICAgIFJFVFVSTklORyAqXHJcbiAgICBgLCBbbmFtZSwgZGVzY3JpcHRpb24sIGR1cmF0aW9uLCBwcmljZSwgaXNBY3RpdmUgPz8gdHJ1ZV0pXHJcblxyXG4gICAgY29uc3QgbmV3U2VydmljZSA9IHJlc3VsdC5yb3dzWzBdXHJcbiAgICBkYi5yZWxlYXNlKClcclxuICAgIFxyXG4gICAgLy8gRW1pdCBXZWJTb2NrZXQgZXZlbnRcclxuICAgIGVtaXRTZXJ2aWNlQWRkZWQobmV3U2VydmljZSlcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsIFxyXG4gICAgICBzZXJ2aWNlOiBuZXdTZXJ2aWNlIFxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW5Ub2tlbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtYWRtaW4tdG9rZW4nKVxyXG4gICAgXHJcbiAgICBpZiAoIWFkbWluVG9rZW4gfHwgKGFkbWluVG9rZW4gIT09ICd0ZXN0JyAmJiBhZG1pblRva2VuICE9PSAnbW9jay10b2tlbicpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBjb25zdCB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgZHVyYXRpb24sIHByaWNlLCBpc0FjdGl2ZSB9ID0gYm9keVxyXG5cclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkoYFxyXG4gICAgICBVUERBVEUgc2VydmljZXMgXHJcbiAgICAgIFNFVCBuYW1lID0gJDEsIGRlc2NyaXB0aW9uID0gJDIsIGR1cmF0aW9uID0gJDMsIHByaWNlID0gJDQsIGlzQWN0aXZlID0gJDVcclxuICAgICAgV0hFUkUgaWQgPSAkNlxyXG4gICAgICBSRVRVUk5JTkcgKlxyXG4gICAgYCwgW25hbWUsIGRlc2NyaXB0aW9uLCBkdXJhdGlvbiwgcHJpY2UsIGlzQWN0aXZlLCBpZF0pXHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQucm93Q291bnQgPT09IDApIHtcclxuICAgICAgZGIucmVsZWFzZSgpXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnU2VydmljZSBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkU2VydmljZSA9IHJlc3VsdC5yb3dzWzBdXHJcbiAgICBkYi5yZWxlYXNlKClcclxuICAgIFxyXG4gICAgLy8gRW1pdCBXZWJTb2NrZXQgZXZlbnRcclxuICAgIGVtaXRTZXJ2aWNlVXBkYXRlKHVwZGF0ZWRTZXJ2aWNlKVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgIHNlcnZpY2U6IHVwZGF0ZWRTZXJ2aWNlIFxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW5Ub2tlbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtYWRtaW4tdG9rZW4nKVxyXG4gICAgXHJcbiAgICBpZiAoIWFkbWluVG9rZW4gfHwgKGFkbWluVG9rZW4gIT09ICd0ZXN0JyAmJiBhZG1pblRva2VuICE9PSAnbW9jay10b2tlbicpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBjb25zdCBpZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2lkJylcclxuXHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnU2VydmljZSBJRCByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkoJ0RFTEVURSBGUk9NIHNlcnZpY2VzIFdIRVJFIGlkID0gJDEnLCBbaWRdKVxyXG4gICAgXHJcbiAgICBpZiAocmVzdWx0LnJvd0NvdW50ID09PSAwKSB7XHJcbiAgICAgIGRiLnJlbGVhc2UoKVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1NlcnZpY2Ugbm90IGZvdW5kJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgZGIucmVsZWFzZSgpXHJcbiAgICBcclxuICAgIC8vIEVtaXQgV2ViU29ja2V0IGV2ZW50XHJcbiAgICBlbWl0U2VydmljZURlbGV0ZWQoaWQpXHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldERhdGFiYXNlIiwiZW1pdFNlcnZpY2VBZGRlZCIsImVtaXRTZXJ2aWNlVXBkYXRlIiwiZW1pdFNlcnZpY2VEZWxldGVkIiwiR0VUIiwicmVxdWVzdCIsImFkbWluVG9rZW4iLCJoZWFkZXJzIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGIiLCJyZXN1bHQiLCJxdWVyeSIsInJlbGVhc2UiLCJzZXJ2aWNlcyIsInJvd3MiLCJQT1NUIiwiYm9keSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1cmF0aW9uIiwicHJpY2UiLCJpc0FjdGl2ZSIsIm5ld1NlcnZpY2UiLCJzdWNjZXNzIiwic2VydmljZSIsIlBVVCIsImlkIiwicm93Q291bnQiLCJ1cGRhdGVkU2VydmljZSIsIkRFTEVURSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/admin/services/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabase: () => (/* binding */ closeDatabase),\n/* harmony export */   convertQuery: () => (/* binding */ convertQuery),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   getPoolStatus: () => (/* binding */ getPoolStatus),\n/* harmony export */   logDatabaseError: () => (/* binding */ logDatabaseError)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nlet pool = null;\nasync function getDatabase() {\n    if (!pool) {\n        pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n            host: process.env.DB_HOST || \"192.168.1.134\",\n            port: parseInt(process.env.DB_PORT || \"5432\"),\n            database: process.env.DB_NAME || \"drborislavpetrov\",\n            user: process.env.DB_USER || \"drborislavpetrov\",\n            password: process.env.DB_PASSWORD || \"Xander123)(*\",\n            max: 30,\n            min: 2,\n            idleTimeoutMillis: 60000,\n            connectionTimeoutMillis: 30000\n        });\n        // Добавяме error handling за pool\n        pool.on(\"error\", (err)=>{\n            console.error(\"❌ Unexpected error on idle client\", err);\n        });\n        pool.on(\"connect\", ()=>{\n            console.log(\"✅ New database connection established\");\n        });\n    }\n    try {\n        const client = await pool.connect();\n        // Create tables if they don't exist\n        await createTablesIfNotExist(client);\n        return client;\n    } catch (error) {\n        console.error(\"❌ Error connecting to database:\", error);\n        // Retry logic\n        if (pool) {\n            console.log(\"\\uD83D\\uDD04 Attempting to recreate pool...\");\n            await pool.end();\n            pool = null;\n            // Wait a bit before retrying\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n            // Recursive call to recreate pool\n            return getDatabase();\n        }\n        throw error;\n    }\n}\nasync function createTablesIfNotExist(client) {\n    try {\n        // Create bookings table\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS bookings (\n        id SERIAL PRIMARY KEY,\n        name TEXT NOT NULL,\n        email TEXT,\n        phone TEXT,\n        service TEXT NOT NULL,\n        serviceduration INTEGER DEFAULT 30,\n        date TEXT NOT NULL,\n        time TEXT NOT NULL,\n        message TEXT,\n        status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'confirmed', 'cancelled')),\n        treatment_notes TEXT,\n        createdat TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create users table with phone as unique identifier (but allowing NULL for admin users)\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS users (\n        id SERIAL PRIMARY KEY,\n        name TEXT NOT NULL,\n        email TEXT,\n        phone TEXT UNIQUE NULL,\n        address TEXT,\n        notes TEXT,\n        createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Alter existing table to allow NULL values for phone (if constraint exists)\n        try {\n            await client.query(`\n        ALTER TABLE users \n        ALTER COLUMN phone DROP NOT NULL\n      `);\n        } catch (error) {\n            // Column might already allow NULL or constraint doesn't exist\n            console.log(\"Phone column already allows NULL or constraint not found\");\n        }\n        // Create services table\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS services (\n        id SERIAL PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        duration INTEGER NOT NULL DEFAULT 30,\n        price REAL,\n        isActive BOOLEAN DEFAULT true,\n        createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create working hours table\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS working_hours (\n        id SERIAL PRIMARY KEY,\n        date TEXT NOT NULL UNIQUE,\n        is_working_day BOOLEAN DEFAULT true,\n        start_time TEXT DEFAULT '09:00',\n        end_time TEXT DEFAULT '18:00',\n        notes TEXT,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create breaks table for multiple breaks per day\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS working_breaks (\n        id SERIAL PRIMARY KEY,\n        working_hours_id INTEGER REFERENCES working_hours(id) ON DELETE CASCADE,\n        start_time TEXT NOT NULL,\n        end_time TEXT NOT NULL,\n        description TEXT DEFAULT 'Почивка',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create bug tracking tables\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS bug_reports (\n        id SERIAL PRIMARY KEY,\n        title TEXT NOT NULL,\n        description TEXT NOT NULL,\n        severity TEXT CHECK (severity IN ('low', 'medium', 'high', 'critical')),\n        status TEXT DEFAULT 'open' CHECK (status IN ('open', 'in-progress', 'resolved', 'closed')),\n        category TEXT CHECK (category IN ('ui', 'functionality', 'performance', 'security', 'database')),\n        priority TEXT DEFAULT 'medium' CHECK (priority IN ('low', 'medium', 'high', 'urgent')),\n        reporter TEXT NOT NULL,\n        assigned_to TEXT,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        steps_to_reproduce TEXT[],\n        expected_behavior TEXT,\n        actual_behavior TEXT,\n        browser TEXT,\n        device TEXT,\n        screenshots TEXT[],\n        tags TEXT[]\n      )\n    `);\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS bug_comments (\n        id SERIAL PRIMARY KEY,\n        bug_id INTEGER REFERENCES bug_reports(id) ON DELETE CASCADE,\n        author TEXT NOT NULL,\n        content TEXT NOT NULL,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        is_internal BOOLEAN DEFAULT false\n      )\n    `);\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS bug_attachments (\n        id SERIAL PRIMARY KEY,\n        bug_id INTEGER REFERENCES bug_reports(id) ON DELETE CASCADE,\n        filename TEXT NOT NULL,\n        url TEXT NOT NULL,\n        size INTEGER NOT NULL,\n        uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Insert default services if table is empty\n        const servicesCount = await client.query(\"SELECT COUNT(*) as count FROM services\");\n        if (parseInt(servicesCount.rows[0].count) === 0) {\n            await client.query(`\n        INSERT INTO services (name, description, duration, price) VALUES\n        ('Преглед и консултация', 'Основен преглед на зъбите и консултация', 30, 50.00),\n        ('Почистване и профилактика', 'Професионално почистване на зъбен камък', 45, 80.00),\n        ('Лечение на кариес', 'Лечение на кариес с модерни материали', 60, 120.00),\n        ('Отбелязване', 'Професионално отбелязване на зъбите', 90, 200.00),\n        ('Ортодонтия', 'Консултация за ортодонтски лечение', 45, 100.00)\n      `);\n        }\n    } catch (error) {\n        console.error(\"Error creating tables:\", error);\n        throw error;\n    }\n}\nasync function closeDatabase() {\n    if (pool) {\n        await pool.end();\n        pool = null;\n    }\n}\n// Database pool monitoring function\nfunction getPoolStatus() {\n    if (!pool) return null;\n    return {\n        totalCount: pool.totalCount,\n        idleCount: pool.idleCount,\n        waitingCount: pool.waitingCount\n    };\n}\n// Enhanced error logging\nfunction logDatabaseError(error, operation) {\n    const err = error;\n    console.error(`❌ Database error in ${operation}:`, {\n        message: err?.message,\n        code: err?.code,\n        detail: err?.detail,\n        hint: err?.hint,\n        where: err?.where,\n        stack: err?.stack\n    });\n}\n// Helper function to convert SQLite-style queries to PostgreSQL\nfunction convertQuery(sqliteQuery) {\n    // Replace SQLite-specific syntax with PostgreSQL syntax\n    return sqliteQuery.replace(/DATETIME DEFAULT CURRENT_TIMESTAMP/g, \"TIMESTAMP DEFAULT CURRENT_TIMESTAMP\").replace(/BOOLEAN DEFAULT 1/g, \"BOOLEAN DEFAULT true\").replace(/BOOLEAN DEFAULT 0/g, \"BOOLEAN DEFAULT false\").replace(/datetime\\('now', '-7 days'\\)/g, \"CURRENT_TIMESTAMP - INTERVAL '7 days'\").replace(/DATE\\(/g, \"DATE(\");\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEJBO1FBQ3hDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVhO0lBQ3BCLElBQUluQyxNQUFNO1FBQ1IsTUFBTUEsS0FBSzJCLEdBQUc7UUFDZDNCLE9BQU87SUFDVDtBQUNGO0FBRUEsb0NBQW9DO0FBQzdCLFNBQVNvQztJQUNkLElBQUksQ0FBQ3BDLE1BQU0sT0FBTztJQUNsQixPQUFPO1FBQ0xxQyxZQUFZckMsS0FBS3FDLFVBQVU7UUFDM0JDLFdBQVd0QyxLQUFLc0MsU0FBUztRQUN6QkMsY0FBY3ZDLEtBQUt1QyxZQUFZO0lBQ2pDO0FBQ0Y7QUFFQSx5QkFBeUI7QUFDbEIsU0FBU0MsaUJBQWlCbEIsS0FBYyxFQUFFbUIsU0FBaUI7SUFDaEUsTUFBTXJCLE1BQU1FO0lBUVpELFFBQVFDLEtBQUssQ0FBQyxDQUFDLG9CQUFvQixFQUFFbUIsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUNqREMsU0FBU3RCLEtBQUtzQjtRQUNkQyxNQUFNdkIsS0FBS3VCO1FBQ1hDLFFBQVF4QixLQUFLd0I7UUFDYkMsTUFBTXpCLEtBQUt5QjtRQUNYQyxPQUFPMUIsS0FBSzBCO1FBQ1pDLE9BQU8zQixLQUFLMkI7SUFDZDtBQUNGO0FBRUEsZ0VBQWdFO0FBQ3pELFNBQVNDLGFBQWFDLFdBQW1CO0lBQzlDLHdEQUF3RDtJQUN4RCxPQUFPQSxZQUNKQyxPQUFPLENBQUMsdUNBQXVDLHVDQUMvQ0EsT0FBTyxDQUFDLHNCQUFzQix3QkFDOUJBLE9BQU8sQ0FBQyxzQkFBc0IseUJBQzlCQSxPQUFPLENBQUMsaUNBQWlDLHlDQUN6Q0EsT0FBTyxDQUFDLFdBQVc7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kci1ib3Jpc2xhdi1wZXRyb3Ytd2Vic2l0ZS8uL3NyYy9saWIvZGF0YWJhc2UudHM/YzFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sLCBQb29sQ2xpZW50IH0gZnJvbSAncGcnXG5cbmxldCBwb29sOiBQb29sIHwgbnVsbCA9IG51bGxcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERhdGFiYXNlKCk6IFByb21pc2U8UG9vbENsaWVudD4ge1xuICBpZiAoIXBvb2wpIHtcbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnMTkyLjE2OC4xLjEzNCcsXG4gICAgICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9QT1JUIHx8ICc1NDMyJyksXG4gICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAnZHJib3Jpc2xhdnBldHJvdicsXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSIHx8ICdkcmJvcmlzbGF2cGV0cm92JyxcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnWGFuZGVyMTIzKSgqJyxcbiAgICAgIG1heDogMzAsIC8vINCj0LLQtdC70LjRh9Cw0LLQsNC80LUg0L7RgiAyMCDQvdCwIDMwXG4gICAgICBtaW46IDIsIC8vINCU0L7QsdCw0LLRj9C80LUg0LzQuNC90LjQvNCw0LvQtdC9INCx0YDQvtC5INCy0YDRitC30LrQuFxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDYwMDAwLCAvLyDQo9Cy0LXQu9C40YfQsNCy0LDQvNC1INC+0YIgMzBzINC90LAgNjBzXG4gICAgICBjb25uZWN0aW9uVGltZW91dE1pbGxpczogMzAwMDAsIC8vINCj0LLQtdC70LjRh9Cw0LLQsNC80LUg0L7RgiAxMHMg0L3QsCAzMHNcbiAgICB9KVxuICAgIFxuICAgIC8vINCU0L7QsdCw0LLRj9C80LUgZXJyb3IgaGFuZGxpbmcg0LfQsCBwb29sXG4gICAgcG9vbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgVW5leHBlY3RlZCBlcnJvciBvbiBpZGxlIGNsaWVudCcsIGVycilcbiAgICB9KVxuICAgIFxuICAgIHBvb2wub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIE5ldyBkYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkJylcbiAgICB9KVxuICB9XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHBvb2wuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gQ3JlYXRlIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgYXdhaXQgY3JlYXRlVGFibGVzSWZOb3RFeGlzdChjbGllbnQpXG4gICAgXG4gICAgcmV0dXJuIGNsaWVudFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjb25uZWN0aW5nIHRvIGRhdGFiYXNlOicsIGVycm9yKVxuICAgIFxuICAgIC8vIFJldHJ5IGxvZ2ljXG4gICAgaWYgKHBvb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEF0dGVtcHRpbmcgdG8gcmVjcmVhdGUgcG9vbC4uLicpXG4gICAgICBhd2FpdCBwb29sLmVuZCgpXG4gICAgICBwb29sID0gbnVsbFxuICAgICAgXG4gICAgICAvLyBXYWl0IGEgYml0IGJlZm9yZSByZXRyeWluZ1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKVxuICAgICAgXG4gICAgICAvLyBSZWN1cnNpdmUgY2FsbCB0byByZWNyZWF0ZSBwb29sXG4gICAgICByZXR1cm4gZ2V0RGF0YWJhc2UoKVxuICAgIH1cbiAgICBcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlc0lmTm90RXhpc3QoY2xpZW50OiBQb29sQ2xpZW50KSB7XG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGJvb2tpbmdzIHRhYmxlXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJvb2tpbmdzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGVtYWlsIFRFWFQsXG4gICAgICAgIHBob25lIFRFWFQsXG4gICAgICAgIHNlcnZpY2UgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgc2VydmljZWR1cmF0aW9uIElOVEVHRVIgREVGQVVMVCAzMCxcbiAgICAgICAgZGF0ZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICB0aW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIG1lc3NhZ2UgVEVYVCxcbiAgICAgICAgc3RhdHVzIFRFWFQgREVGQVVMVCAncGVuZGluZycgQ0hFQ0sgKHN0YXR1cyBJTiAoJ3BlbmRpbmcnLCAnY29uZmlybWVkJywgJ2NhbmNlbGxlZCcpKSxcbiAgICAgICAgdHJlYXRtZW50X25vdGVzIFRFWFQsXG4gICAgICAgIGNyZWF0ZWRhdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGApXG4gICAgXG4gICAgLy8gQ3JlYXRlIHVzZXJzIHRhYmxlIHdpdGggcGhvbmUgYXMgdW5pcXVlIGlkZW50aWZpZXIgKGJ1dCBhbGxvd2luZyBOVUxMIGZvciBhZG1pbiB1c2VycylcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcnMgKFxuICAgICAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG4gICAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZW1haWwgVEVYVCxcbiAgICAgICAgcGhvbmUgVEVYVCBVTklRVUUgTlVMTCxcbiAgICAgICAgYWRkcmVzcyBURVhULFxuICAgICAgICBub3RlcyBURVhULFxuICAgICAgICBjcmVhdGVkQXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgIHVwZGF0ZWRBdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGApXG4gICAgXG4gICAgLy8gQWx0ZXIgZXhpc3RpbmcgdGFibGUgdG8gYWxsb3cgTlVMTCB2YWx1ZXMgZm9yIHBob25lIChpZiBjb25zdHJhaW50IGV4aXN0cylcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgICAgQUxURVIgVEFCTEUgdXNlcnMgXG4gICAgICAgIEFMVEVSIENPTFVNTiBwaG9uZSBEUk9QIE5PVCBOVUxMXG4gICAgICBgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBDb2x1bW4gbWlnaHQgYWxyZWFkeSBhbGxvdyBOVUxMIG9yIGNvbnN0cmFpbnQgZG9lc24ndCBleGlzdFxuICAgICAgY29uc29sZS5sb2coJ1Bob25lIGNvbHVtbiBhbHJlYWR5IGFsbG93cyBOVUxMIG9yIGNvbnN0cmFpbnQgbm90IGZvdW5kJylcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIHNlcnZpY2VzIHRhYmxlXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNlcnZpY2VzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGRlc2NyaXB0aW9uIFRFWFQsXG4gICAgICAgIGR1cmF0aW9uIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAzMCxcbiAgICAgICAgcHJpY2UgUkVBTCxcbiAgICAgICAgaXNBY3RpdmUgQk9PTEVBTiBERUZBVUxUIHRydWUsXG4gICAgICAgIGNyZWF0ZWRBdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGApXG4gICAgXG4gICAgLy8gQ3JlYXRlIHdvcmtpbmcgaG91cnMgdGFibGVcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgd29ya2luZ19ob3VycyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgZGF0ZSBURVhUIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAgICAgaXNfd29ya2luZ19kYXkgQk9PTEVBTiBERUZBVUxUIHRydWUsXG4gICAgICAgIHN0YXJ0X3RpbWUgVEVYVCBERUZBVUxUICcwOTowMCcsXG4gICAgICAgIGVuZF90aW1lIFRFWFQgREVGQVVMVCAnMTg6MDAnLFxuICAgICAgICBub3RlcyBURVhULFxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApXG4gICAgYClcbiAgICBcbiAgICAvLyBDcmVhdGUgYnJlYWtzIHRhYmxlIGZvciBtdWx0aXBsZSBicmVha3MgcGVyIGRheVxuICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB3b3JraW5nX2JyZWFrcyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgd29ya2luZ19ob3Vyc19pZCBJTlRFR0VSIFJFRkVSRU5DRVMgd29ya2luZ19ob3VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIHN0YXJ0X3RpbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZW5kX3RpbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCBERUZBVUxUICfQn9C+0YfQuNCy0LrQsCcsXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgIClcbiAgICBgKVxuICAgIFxuICAgIC8vIENyZWF0ZSBidWcgdHJhY2tpbmcgdGFibGVzXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJ1Z19yZXBvcnRzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICB0aXRsZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhUIE5PVCBOVUxMLFxuICAgICAgICBzZXZlcml0eSBURVhUIENIRUNLIChzZXZlcml0eSBJTiAoJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCcpKSxcbiAgICAgICAgc3RhdHVzIFRFWFQgREVGQVVMVCAnb3BlbicgQ0hFQ0sgKHN0YXR1cyBJTiAoJ29wZW4nLCAnaW4tcHJvZ3Jlc3MnLCAncmVzb2x2ZWQnLCAnY2xvc2VkJykpLFxuICAgICAgICBjYXRlZ29yeSBURVhUIENIRUNLIChjYXRlZ29yeSBJTiAoJ3VpJywgJ2Z1bmN0aW9uYWxpdHknLCAncGVyZm9ybWFuY2UnLCAnc2VjdXJpdHknLCAnZGF0YWJhc2UnKSksXG4gICAgICAgIHByaW9yaXR5IFRFWFQgREVGQVVMVCAnbWVkaXVtJyBDSEVDSyAocHJpb3JpdHkgSU4gKCdsb3cnLCAnbWVkaXVtJywgJ2hpZ2gnLCAndXJnZW50JykpLFxuICAgICAgICByZXBvcnRlciBURVhUIE5PVCBOVUxMLFxuICAgICAgICBhc3NpZ25lZF90byBURVhULFxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICBzdGVwc190b19yZXByb2R1Y2UgVEVYVFtdLFxuICAgICAgICBleHBlY3RlZF9iZWhhdmlvciBURVhULFxuICAgICAgICBhY3R1YWxfYmVoYXZpb3IgVEVYVCxcbiAgICAgICAgYnJvd3NlciBURVhULFxuICAgICAgICBkZXZpY2UgVEVYVCxcbiAgICAgICAgc2NyZWVuc2hvdHMgVEVYVFtdLFxuICAgICAgICB0YWdzIFRFWFRbXVxuICAgICAgKVxuICAgIGApXG4gICAgXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJ1Z19jb21tZW50cyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgYnVnX2lkIElOVEVHRVIgUkVGRVJFTkNFUyBidWdfcmVwb3J0cyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIGF1dGhvciBURVhUIE5PVCBOVUxMLFxuICAgICAgICBjb250ZW50IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgIGlzX2ludGVybmFsIEJPT0xFQU4gREVGQVVMVCBmYWxzZVxuICAgICAgKVxuICAgIGApXG4gICAgXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJ1Z19hdHRhY2htZW50cyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgYnVnX2lkIElOVEVHRVIgUkVGRVJFTkNFUyBidWdfcmVwb3J0cyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIGZpbGVuYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIHVybCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBzaXplIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgIHVwbG9hZGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApXG4gICAgYClcbiAgICBcbiAgICAvLyBJbnNlcnQgZGVmYXVsdCBzZXJ2aWNlcyBpZiB0YWJsZSBpcyBlbXB0eVxuICAgIGNvbnN0IHNlcnZpY2VzQ291bnQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHNlcnZpY2VzJylcbiAgICBpZiAocGFyc2VJbnQoc2VydmljZXNDb3VudC5yb3dzWzBdLmNvdW50KSA9PT0gMCkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgICAgSU5TRVJUIElOVE8gc2VydmljZXMgKG5hbWUsIGRlc2NyaXB0aW9uLCBkdXJhdGlvbiwgcHJpY2UpIFZBTFVFU1xuICAgICAgICAoJ9Cf0YDQtdCz0LvQtdC0INC4INC60L7QvdGB0YPQu9GC0LDRhtC40Y8nLCAn0J7RgdC90L7QstC10L0g0L/RgNC10LPQu9C10LQg0L3QsCDQt9GK0LHQuNGC0LUg0Lgg0LrQvtC90YHRg9C70YLQsNGG0LjRjycsIDMwLCA1MC4wMCksXG4gICAgICAgICgn0J/QvtGH0LjRgdGC0LLQsNC90LUg0Lgg0L/RgNC+0YTQuNC70LDQutGC0LjQutCwJywgJ9Cf0YDQvtGE0LXRgdC40L7QvdCw0LvQvdC+INC/0L7Rh9C40YHRgtCy0LDQvdC1INC90LAg0LfRitCx0LXQvSDQutCw0LzRitC6JywgNDUsIDgwLjAwKSxcbiAgICAgICAgKCfQm9C10YfQtdC90LjQtSDQvdCwINC60LDRgNC40LXRgScsICfQm9C10YfQtdC90LjQtSDQvdCwINC60LDRgNC40LXRgSDRgSDQvNC+0LTQtdGA0L3QuCDQvNCw0YLQtdGA0LjQsNC70LgnLCA2MCwgMTIwLjAwKSxcbiAgICAgICAgKCfQntGC0LHQtdC70Y/Qt9Cy0LDQvdC1JywgJ9Cf0YDQvtGE0LXRgdC40L7QvdCw0LvQvdC+INC+0YLQsdC10LvRj9C30LLQsNC90LUg0L3QsCDQt9GK0LHQuNGC0LUnLCA5MCwgMjAwLjAwKSxcbiAgICAgICAgKCfQntGA0YLQvtC00L7QvdGC0LjRjycsICfQmtC+0L3RgdGD0LvRgtCw0YbQuNGPINC30LAg0L7RgNGC0L7QtNC+0L3RgtGB0LrQuCDQu9C10YfQtdC90LjQtScsIDQ1LCAxMDAuMDApXG4gICAgICBgKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB0YWJsZXM6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VEYXRhYmFzZSgpIHtcbiAgaWYgKHBvb2wpIHtcbiAgICBhd2FpdCBwb29sLmVuZCgpXG4gICAgcG9vbCA9IG51bGxcbiAgfVxufVxuXG4vLyBEYXRhYmFzZSBwb29sIG1vbml0b3JpbmcgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sU3RhdHVzKCkge1xuICBpZiAoIXBvb2wpIHJldHVybiBudWxsXG4gIHJldHVybiB7XG4gICAgdG90YWxDb3VudDogcG9vbC50b3RhbENvdW50LFxuICAgIGlkbGVDb3VudDogcG9vbC5pZGxlQ291bnQsXG4gICAgd2FpdGluZ0NvdW50OiBwb29sLndhaXRpbmdDb3VudFxuICB9XG59XG5cbi8vIEVuaGFuY2VkIGVycm9yIGxvZ2dpbmdcbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhYmFzZUVycm9yKGVycm9yOiB1bmtub3duLCBvcGVyYXRpb246IHN0cmluZykge1xuICBjb25zdCBlcnIgPSBlcnJvciBhcyBQYXJ0aWFsPHtcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgICBjb2RlOiBzdHJpbmcgfCBudW1iZXJcbiAgICBkZXRhaWw6IHN0cmluZ1xuICAgIGhpbnQ6IHN0cmluZ1xuICAgIHdoZXJlOiBzdHJpbmdcbiAgICBzdGFjazogc3RyaW5nXG4gIH0+XG4gIGNvbnNvbGUuZXJyb3IoYOKdjCBEYXRhYmFzZSBlcnJvciBpbiAke29wZXJhdGlvbn06YCwge1xuICAgIG1lc3NhZ2U6IGVycj8ubWVzc2FnZSxcbiAgICBjb2RlOiBlcnI/LmNvZGUsXG4gICAgZGV0YWlsOiBlcnI/LmRldGFpbCxcbiAgICBoaW50OiBlcnI/LmhpbnQsXG4gICAgd2hlcmU6IGVycj8ud2hlcmUsXG4gICAgc3RhY2s6IGVycj8uc3RhY2tcbiAgfSlcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgU1FMaXRlLXN0eWxlIHF1ZXJpZXMgdG8gUG9zdGdyZVNRTFxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRRdWVyeShzcWxpdGVRdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gUmVwbGFjZSBTUUxpdGUtc3BlY2lmaWMgc3ludGF4IHdpdGggUG9zdGdyZVNRTCBzeW50YXhcbiAgcmV0dXJuIHNxbGl0ZVF1ZXJ5XG4gICAgLnJlcGxhY2UoL0RBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAvZywgJ1RJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QJylcbiAgICAucmVwbGFjZSgvQk9PTEVBTiBERUZBVUxUIDEvZywgJ0JPT0xFQU4gREVGQVVMVCB0cnVlJylcbiAgICAucmVwbGFjZSgvQk9PTEVBTiBERUZBVUxUIDAvZywgJ0JPT0xFQU4gREVGQVVMVCBmYWxzZScpXG4gICAgLnJlcGxhY2UoL2RhdGV0aW1lXFwoJ25vdycsICctNyBkYXlzJ1xcKS9nLCBcIkNVUlJFTlRfVElNRVNUQU1QIC0gSU5URVJWQUwgJzcgZGF5cydcIilcbiAgICAucmVwbGFjZSgvREFURVxcKC9nLCAnREFURSgnKVxufSAiXSwibmFtZXMiOlsiUG9vbCIsInBvb2wiLCJnZXREYXRhYmFzZSIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJfSE9TVCIsInBvcnQiLCJwYXJzZUludCIsIkRCX1BPUlQiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJ1c2VyIiwiREJfVVNFUiIsInBhc3N3b3JkIiwiREJfUEFTU1dPUkQiLCJtYXgiLCJtaW4iLCJpZGxlVGltZW91dE1pbGxpcyIsImNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzIiwib24iLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2ciLCJjbGllbnQiLCJjb25uZWN0IiwiY3JlYXRlVGFibGVzSWZOb3RFeGlzdCIsImVuZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInF1ZXJ5Iiwic2VydmljZXNDb3VudCIsInJvd3MiLCJjb3VudCIsImNsb3NlRGF0YWJhc2UiLCJnZXRQb29sU3RhdHVzIiwidG90YWxDb3VudCIsImlkbGVDb3VudCIsIndhaXRpbmdDb3VudCIsImxvZ0RhdGFiYXNlRXJyb3IiLCJvcGVyYXRpb24iLCJtZXNzYWdlIiwiY29kZSIsImRldGFpbCIsImhpbnQiLCJ3aGVyZSIsInN0YWNrIiwiY29udmVydFF1ZXJ5Iiwic3FsaXRlUXVlcnkiLCJyZXBsYWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/socket.ts":
/*!***************************!*\
  !*** ./src/lib/socket.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   emitBookingAdded: () => (/* binding */ emitBookingAdded),\n/* harmony export */   emitBookingDeleted: () => (/* binding */ emitBookingDeleted),\n/* harmony export */   emitBookingUpdate: () => (/* binding */ emitBookingUpdate),\n/* harmony export */   emitNextBookingChanged: () => (/* binding */ emitNextBookingChanged),\n/* harmony export */   emitServiceAdded: () => (/* binding */ emitServiceAdded),\n/* harmony export */   emitServiceDeleted: () => (/* binding */ emitServiceDeleted),\n/* harmony export */   emitServiceUpdate: () => (/* binding */ emitServiceUpdate),\n/* harmony export */   emitUserAdded: () => (/* binding */ emitUserAdded),\n/* harmony export */   emitUserDeleted: () => (/* binding */ emitUserDeleted),\n/* harmony export */   emitUserUpdate: () => (/* binding */ emitUserUpdate),\n/* harmony export */   emitWorkingHoursUpdated: () => (/* binding */ emitWorkingHoursUpdated),\n/* harmony export */   getIO: () => (/* binding */ getIO)\n/* harmony export */ });\n// Global socket.io instance\nfunction getIO() {\n    if (!globalThis.io) {\n        console.warn(\"⚠️ Socket.io not initialized yet\");\n        return null;\n    }\n    return globalThis.io;\n}\n// Helper functions to emit events with improved error handling\nfunction emitBookingUpdate(booking) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting booking-updated event:\", booking);\n        socketIO.to(\"admin\").emit(\"booking-updated\", booking);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for booking-updated event\");\n    }\n}\nfunction emitBookingAdded(booking) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting booking-added event:\", booking);\n        socketIO.to(\"admin\").emit(\"booking-added\", booking);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for booking-added event\");\n    }\n}\nfunction emitBookingDeleted(bookingId) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting booking-deleted event:\", bookingId);\n        socketIO.to(\"admin\").emit(\"booking-deleted\", bookingId);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for booking-deleted event\");\n    }\n}\nfunction emitNextBookingChanged(booking) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting next-booking-changed event:\", booking);\n        socketIO.to(\"admin\").emit(\"next-booking-changed\", booking);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for next-booking-changed event\");\n    }\n}\nfunction emitUserAdded(user) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting user-added event:\", user);\n        socketIO.to(\"admin\").emit(\"user-added\", user);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for user-added event\");\n    }\n}\nfunction emitUserUpdate(user) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting user-updated event:\", user);\n        socketIO.to(\"admin\").emit(\"user-updated\", user);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for user-updated event\");\n    }\n}\nfunction emitUserDeleted(userId) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting user-deleted event:\", userId);\n        socketIO.to(\"admin\").emit(\"user-deleted\", userId);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for user-deleted event\");\n    }\n}\nfunction emitServiceAdded(service) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting service-added event:\", service);\n        socketIO.to(\"admin\").emit(\"service-added\", service);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for service-added event\");\n    }\n}\nfunction emitServiceUpdate(service) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting service-updated event:\", service);\n        socketIO.to(\"admin\").emit(\"service-updated\", service);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for service-updated event\");\n    }\n}\nfunction emitServiceDeleted(serviceId) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting service-deleted event:\", serviceId);\n        socketIO.to(\"admin\").emit(\"service-deleted\", serviceId);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for service-deleted event\");\n    }\n}\nfunction emitWorkingHoursUpdated(workingHours) {\n    const socketIO = getIO();\n    if (socketIO) {\n        console.log(\"\\uD83D\\uDCE1 Emitting working-hours-updated event:\", workingHours);\n        socketIO.to(\"admin\").emit(\"working-hours-updated\", workingHours);\n    } else {\n        console.warn(\"⚠️ Socket.io not available for working-hours-updated event\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUUMsSUFBSSxDQUFDO0lBQ2Y7QUFDRjtBQUVPLFNBQVNtQixtQkFBbUJDLFNBQWlCO0lBQ2xELE1BQU1qQixXQUFXUDtJQUNqQixJQUFJTyxVQUFVO1FBQ1pKLFFBQVFLLEdBQUcsQ0FBQyxnREFBc0NnQjtRQUNsRGpCLFNBQVNFLEVBQUUsQ0FBQyxTQUFTQyxJQUFJLENBQUMsbUJBQW1CYztJQUMvQyxPQUFPO1FBQ0xyQixRQUFRQyxJQUFJLENBQUM7SUFDZjtBQUNGO0FBRU8sU0FBU3FCLHdCQUF3QkMsWUFBcUI7SUFDM0QsTUFBTW5CLFdBQVdQO0lBQ2pCLElBQUlPLFVBQVU7UUFDWkosUUFBUUssR0FBRyxDQUFDLHNEQUE0Q2tCO1FBQ3hEbkIsU0FBU0UsRUFBRSxDQUFDLFNBQVNDLElBQUksQ0FBQyx5QkFBeUJnQjtJQUNyRCxPQUFPO1FBQ0x2QixRQUFRQyxJQUFJLENBQUM7SUFDZjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHItYm9yaXNsYXYtcGV0cm92LXdlYnNpdGUvLi9zcmMvbGliL3NvY2tldC50cz84NDA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdsb2JhbCBzb2NrZXQuaW8gaW5zdGFuY2VcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgaW86IGltcG9ydCgnc29ja2V0LmlvJykuU2VydmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SU8oKTogaW1wb3J0KCdzb2NrZXQuaW8nKS5TZXJ2ZXIgfCBudWxsIHtcbiAgaWYgKCFnbG9iYWxUaGlzLmlvKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gU29ja2V0LmlvIG5vdCBpbml0aWFsaXplZCB5ZXQnKVxuICAgIHJldHVybiBudWxsXG4gIH1cbiAgcmV0dXJuIGdsb2JhbFRoaXMuaW9cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBlbWl0IGV2ZW50cyB3aXRoIGltcHJvdmVkIGVycm9yIGhhbmRsaW5nXG5leHBvcnQgZnVuY3Rpb24gZW1pdEJvb2tpbmdVcGRhdGUoYm9va2luZzogdW5rbm93bikge1xuICBjb25zdCBzb2NrZXRJTyA9IGdldElPKClcbiAgaWYgKHNvY2tldElPKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6EgRW1pdHRpbmcgYm9va2luZy11cGRhdGVkIGV2ZW50OicsIGJvb2tpbmcpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnYm9va2luZy11cGRhdGVkJywgYm9va2luZylcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTb2NrZXQuaW8gbm90IGF2YWlsYWJsZSBmb3IgYm9va2luZy11cGRhdGVkIGV2ZW50JylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdEJvb2tpbmdBZGRlZChib29raW5nOiB1bmtub3duKSB7XG4gIGNvbnN0IHNvY2tldElPID0gZ2V0SU8oKVxuICBpZiAoc29ja2V0SU8pIHtcbiAgICBjb25zb2xlLmxvZygn8J+ToSBFbWl0dGluZyBib29raW5nLWFkZGVkIGV2ZW50OicsIGJvb2tpbmcpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnYm9va2luZy1hZGRlZCcsIGJvb2tpbmcpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gU29ja2V0LmlvIG5vdCBhdmFpbGFibGUgZm9yIGJvb2tpbmctYWRkZWQgZXZlbnQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0Qm9va2luZ0RlbGV0ZWQoYm9va2luZ0lkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc29ja2V0SU8gPSBnZXRJTygpXG4gIGlmIChzb2NrZXRJTykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OhIEVtaXR0aW5nIGJvb2tpbmctZGVsZXRlZCBldmVudDonLCBib29raW5nSWQpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnYm9va2luZy1kZWxldGVkJywgYm9va2luZ0lkKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciBib29raW5nLWRlbGV0ZWQgZXZlbnQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0TmV4dEJvb2tpbmdDaGFuZ2VkKGJvb2tpbmc6IHVua25vd24pIHtcbiAgY29uc3Qgc29ja2V0SU8gPSBnZXRJTygpXG4gIGlmIChzb2NrZXRJTykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OhIEVtaXR0aW5nIG5leHQtYm9va2luZy1jaGFuZ2VkIGV2ZW50OicsIGJvb2tpbmcpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnbmV4dC1ib29raW5nLWNoYW5nZWQnLCBib29raW5nKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciBuZXh0LWJvb2tpbmctY2hhbmdlZCBldmVudCcpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRVc2VyQWRkZWQodXNlcjogdW5rbm93bikge1xuICBjb25zdCBzb2NrZXRJTyA9IGdldElPKClcbiAgaWYgKHNvY2tldElPKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6EgRW1pdHRpbmcgdXNlci1hZGRlZCBldmVudDonLCB1c2VyKVxuICAgIHNvY2tldElPLnRvKCdhZG1pbicpLmVtaXQoJ3VzZXItYWRkZWQnLCB1c2VyKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciB1c2VyLWFkZGVkIGV2ZW50JylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdFVzZXJVcGRhdGUodXNlcjogdW5rbm93bikge1xuICBjb25zdCBzb2NrZXRJTyA9IGdldElPKClcbiAgaWYgKHNvY2tldElPKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6EgRW1pdHRpbmcgdXNlci11cGRhdGVkIGV2ZW50OicsIHVzZXIpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgndXNlci11cGRhdGVkJywgdXNlcilcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTb2NrZXQuaW8gbm90IGF2YWlsYWJsZSBmb3IgdXNlci11cGRhdGVkIGV2ZW50JylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdFVzZXJEZWxldGVkKHVzZXJJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHNvY2tldElPID0gZ2V0SU8oKVxuICBpZiAoc29ja2V0SU8pIHtcbiAgICBjb25zb2xlLmxvZygn8J+ToSBFbWl0dGluZyB1c2VyLWRlbGV0ZWQgZXZlbnQ6JywgdXNlcklkKVxuICAgIHNvY2tldElPLnRvKCdhZG1pbicpLmVtaXQoJ3VzZXItZGVsZXRlZCcsIHVzZXJJZClcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTb2NrZXQuaW8gbm90IGF2YWlsYWJsZSBmb3IgdXNlci1kZWxldGVkIGV2ZW50JylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdFNlcnZpY2VBZGRlZChzZXJ2aWNlOiB1bmtub3duKSB7XG4gIGNvbnN0IHNvY2tldElPID0gZ2V0SU8oKVxuICBpZiAoc29ja2V0SU8pIHtcbiAgICBjb25zb2xlLmxvZygn8J+ToSBFbWl0dGluZyBzZXJ2aWNlLWFkZGVkIGV2ZW50OicsIHNlcnZpY2UpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnc2VydmljZS1hZGRlZCcsIHNlcnZpY2UpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gU29ja2V0LmlvIG5vdCBhdmFpbGFibGUgZm9yIHNlcnZpY2UtYWRkZWQgZXZlbnQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0U2VydmljZVVwZGF0ZShzZXJ2aWNlOiB1bmtub3duKSB7XG4gIGNvbnN0IHNvY2tldElPID0gZ2V0SU8oKVxuICBpZiAoc29ja2V0SU8pIHtcbiAgICBjb25zb2xlLmxvZygn8J+ToSBFbWl0dGluZyBzZXJ2aWNlLXVwZGF0ZWQgZXZlbnQ6Jywgc2VydmljZSlcbiAgICBzb2NrZXRJTy50bygnYWRtaW4nKS5lbWl0KCdzZXJ2aWNlLXVwZGF0ZWQnLCBzZXJ2aWNlKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciBzZXJ2aWNlLXVwZGF0ZWQgZXZlbnQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0U2VydmljZURlbGV0ZWQoc2VydmljZUlkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc29ja2V0SU8gPSBnZXRJTygpXG4gIGlmIChzb2NrZXRJTykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OhIEVtaXR0aW5nIHNlcnZpY2UtZGVsZXRlZCBldmVudDonLCBzZXJ2aWNlSWQpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnc2VydmljZS1kZWxldGVkJywgc2VydmljZUlkKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciBzZXJ2aWNlLWRlbGV0ZWQgZXZlbnQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0V29ya2luZ0hvdXJzVXBkYXRlZCh3b3JraW5nSG91cnM6IHVua25vd24pIHtcbiAgY29uc3Qgc29ja2V0SU8gPSBnZXRJTygpXG4gIGlmIChzb2NrZXRJTykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OhIEVtaXR0aW5nIHdvcmtpbmctaG91cnMtdXBkYXRlZCBldmVudDonLCB3b3JraW5nSG91cnMpXG4gICAgc29ja2V0SU8udG8oJ2FkbWluJykuZW1pdCgnd29ya2luZy1ob3Vycy11cGRhdGVkJywgd29ya2luZ0hvdXJzKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldC5pbyBub3QgYXZhaWxhYmxlIGZvciB3b3JraW5nLWhvdXJzLXVwZGF0ZWQgZXZlbnQnKVxuICB9XG59ICJdLCJuYW1lcyI6WyJnZXRJTyIsImdsb2JhbFRoaXMiLCJpbyIsImNvbnNvbGUiLCJ3YXJuIiwiZW1pdEJvb2tpbmdVcGRhdGUiLCJib29raW5nIiwic29ja2V0SU8iLCJsb2ciLCJ0byIsImVtaXQiLCJlbWl0Qm9va2luZ0FkZGVkIiwiZW1pdEJvb2tpbmdEZWxldGVkIiwiYm9va2luZ0lkIiwiZW1pdE5leHRCb29raW5nQ2hhbmdlZCIsImVtaXRVc2VyQWRkZWQiLCJ1c2VyIiwiZW1pdFVzZXJVcGRhdGUiLCJlbWl0VXNlckRlbGV0ZWQiLCJ1c2VySWQiLCJlbWl0U2VydmljZUFkZGVkIiwic2VydmljZSIsImVtaXRTZXJ2aWNlVXBkYXRlIiwiZW1pdFNlcnZpY2VEZWxldGVkIiwic2VydmljZUlkIiwiZW1pdFdvcmtpbmdIb3Vyc1VwZGF0ZWQiLCJ3b3JraW5nSG91cnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/socket.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fservices%2Froute&page=%2Fapi%2Fadmin%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fservices%2Froute.ts&appDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cgenius%5CDownloads%5Cdrborislavpetrov&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();