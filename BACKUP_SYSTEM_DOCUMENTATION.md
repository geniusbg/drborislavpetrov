# üîÑ Backup System Documentation

## üìã –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â –ø—Ä–µ–≥–ª–µ–¥](#–æ–±—â-–ø—Ä–µ–≥–ª–µ–¥)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏)
4. [API Endpoints](#api-endpoints)
5. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
6. [–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ](#–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ)
7. [Troubleshooting](#troubleshooting)
8. [–ü–æ–¥–¥—Ä—ä–∂–∫–∞](#–ø–æ–¥–¥—Ä—ä–∂–∫–∞)

---

## üéØ –û–±—â –ø—Ä–µ–≥–ª–µ–¥

Backup —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏ —Ä—ä—á–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ –∫–æ–ø–∏–µ –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ retention policy, –∫–æ–º–ø—Ä–µ—Å–∏—è –∏ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ.

### ‚ú® –û—Å–Ω–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup** –Ω–∞ –≤—Å–µ–∫–∏ —á–∞—Å
- ‚úÖ **–†—ä—á–µ–Ω backup** —Å –µ–¥–Ω–æ –∫–ª–∏–∫–≤–∞–Ω–µ
- ‚úÖ **Retention policy** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ä–∏ backup-–∏
- ‚úÖ **–í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ** –æ—Ç backup —Ñ–∞–π–ª–æ–≤–µ
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –Ω–∞ –≤—Å–∏—á–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ **–ö–æ–º–ø—Ä–µ—Å–∏—è** –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
src/
‚îú‚îÄ‚îÄ components/admin/
‚îÇ   ‚îú‚îÄ‚îÄ BackupManager.tsx      # –û—Å–Ω–æ–≤–µ–Ω UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ BackupConfig.tsx       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω –º–æ–¥–∞–ª
‚îú‚îÄ‚îÄ app/api/admin/backups/
‚îÇ   ‚îú‚îÄ‚îÄ route.ts               # GET/POST - —Å–ø–∏—Å—ä–∫ –∏ —Å—ä–∑–¥–∞–≤–∞–Ω–µ
‚îÇ   ‚îú‚îÄ‚îÄ config/route.ts        # GET/POST - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ [fileName]/route.ts    # DELETE - –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ
‚îÇ   ‚îî‚îÄ‚îÄ [fileName]/restore/route.ts # POST - –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ database.ts            # Database –≤—Ä—ä–∑–∫–∞

backup-database-node.js        # Node.js backup —Å–∫—Ä–∏–ø—Ç
restore-database-node.js       # Node.js restore —Å–∫—Ä–∏–ø—Ç
backup-config.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª
backups/                      # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞ backup —Ñ–∞–π–ª–æ–≤–µ
```

### Data Flow:
```
UI (BackupManager) 
    ‚Üì
API Endpoints (/api/admin/backups/*)
    ‚Üì
Node.js Scripts (backup-database-node.js)
    ‚Üì
PostgreSQL Database
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. BackupManager.tsx
**–õ–æ–∫–∞—Ü–∏—è**: `src/components/admin/BackupManager.tsx`

**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ backup —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –°–ø–∏—Å—ä–∫ –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ
- –†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ backup
- –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ
- –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç backup
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞

**Props**: –ù—è–º–∞ (—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

**State**:
```typescript
interface BackupFile {
  name: string
  size: string
  date: string
  age: string
}

interface BackupStats {
  totalBackups: number
  totalSize: string
  oldestBackup: string
  newestBackup: string
  retentionDays: number
}

interface BackupConfig {
  retentionDays: number
  backupInterval: number
  backupFormat: 'json' | 'sql'
  backupLocation: string
  autoBackup: boolean
  compression: boolean
}
```

### 2. BackupConfig.tsx
**–õ–æ–∫–∞—Ü–∏—è**: `src/components/admin/BackupConfig.tsx`

**–§—É–Ω–∫—Ü–∏–∏**:
- –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ retention policy
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ backup –∏–Ω—Ç–µ—Ä–≤–∞–ª
- –ò–∑–±–æ—Ä –Ω–∞ backup —Ñ–æ—Ä–º–∞—Ç
- –í–∫–ª—é—á–≤–∞–Ω–µ/–∏–∑–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –∫–æ–º–ø—Ä–µ—Å–∏—è
- –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ backup –ª–æ–∫–∞—Ü–∏—è

**Props**:
```typescript
interface BackupConfigProps {
  onConfigChange: (config: BackupConfig) => void
  onClose: () => void
}
```

---

## üîå API Endpoints

### 1. GET /api/admin/backups
**–§—É–Ω–∫—Ü–∏—è**: –í–∑–µ–º–∞–Ω–µ –Ω–∞ —Å–ø–∏—Å—ä–∫ —Å backup —Ñ–∞–π–ª–æ–≤–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**Response**:
```json
{
  "backups": [
    {
      "name": "drborislavpetrov_backup_2025-08-03_12-54-43-253Z.json",
      "size": "0.02 MB",
      "date": "3.08.2025 –≥., 05:54:43 —á.",
      "age": "0 –¥–Ω–∏"
    }
  ],
  "stats": {
    "totalBackups": 1,
    "totalSize": "0.02 MB",
    "oldestBackup": "3.08.2025 –≥., 05:54:43 —á.",
    "newestBackup": "3.08.2025 –≥., 05:54:43 —á.",
    "retentionDays": 5
  }
}
```

### 2. POST /api/admin/backups
**–§—É–Ω–∫—Ü–∏—è**: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤ backup

**Response**:
```json
{
  "success": true,
  "message": "Backup created successfully",
  "fileName": "drborislavpetrov_backup_2025-08-03_13-41-51-228Z.json"
}
```

### 3. GET /api/admin/backups/config
**–§—É–Ω–∫—Ü–∏—è**: –í–∑–µ–º–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**Response**:
```json
{
  "config": {
    "retentionDays": 5,
    "backupInterval": 1,
    "backupFormat": "json",
    "backupLocation": "./backups/",
    "autoBackup": true,
    "compression": false
  }
}
```

### 4. POST /api/admin/backups/config
**–§—É–Ω–∫—Ü–∏—è**: –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**Request Body**:
```json
{
  "retentionDays": 4,
  "backupInterval": 2,
  "backupFormat": "json",
  "backupLocation": "./backups/",
  "autoBackup": true,
  "compression": true
}
```

### 5. DELETE /api/admin/backups/[fileName]
**–§—É–Ω–∫—Ü–∏—è**: –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω backup —Ñ–∞–π–ª

**Response**:
```json
{
  "success": true,
  "message": "Backup deleted successfully"
}
```

### 6. POST /api/admin/backups/[fileName]/restore
**–§—É–Ω–∫—Ü–∏—è**: –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç backup —Ñ–∞–π–ª

**Response**:
```json
{
  "success": true,
  "message": "Database restored successfully"
}
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª: `backup-config.json`
```json
{
  "retentionDays": 5,
  "backupInterval": 1,
  "backupFormat": "json",
  "backupLocation": "./backups/",
  "autoBackup": true,
  "compression": false
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:

| –ü–∞—Ä–∞–º–µ—Ç—ä—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –î–∏–∞–ø–∞–∑–æ–Ω | –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ |
|-----------|----------|----------|------------------|
| `retentionDays` | –î–Ω–∏ –∑–∞ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ backup-–∏—Ç–µ | 1-365 | 5 |
| `backupInterval` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup (—á–∞—Å–æ–≤–µ) | 1-24 | 1 |
| `backupFormat` | –§–æ—Ä–º–∞—Ç –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ—Ç–µ | `json` \| `sql` | `json` |
| `backupLocation` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞ backup —Ñ–∞–π–ª–æ–≤–µ | string | `./backups/` |
| `autoBackup` | –í–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup | boolean | `true` |
| `compression` | –ö–æ–º–ø—Ä–µ—Å–∏—è –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ | boolean | `false` |

---

## üöÄ –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### 1. –î–æ—Å—Ç—ä–ø –¥–æ Backup —Å–∏—Å—Ç–µ–º–∞—Ç–∞
```
1. –û—Ç–≤–æ—Ä–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞: http://localhost:3000/admin
2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ "Backup" —Ç–∞–±–∞
3. –í–ª–∏–∑–∞—à –≤ Backup –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

### 2. –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
- –û–±—â–æ Backups: –ë—Ä–æ–π –Ω–∞–ª–∏—á–Ω–∏ backup —Ñ–∞–π–ª–æ–≤–µ
- –û–±—â —Ä–∞–∑–º–µ—Ä: –û–±—â —Ä–∞–∑–º–µ—Ä –Ω–∞ –≤—Å–∏—á–∫–∏ backup-–∏
- Retention Policy: –î–Ω–∏ –∑–∞ –∑–∞–ø–∞–∑–≤–∞–Ω–µ (–æ—Ä–∞–Ω–∂–µ–≤ –±–∞–Ω–µ—Ä)
- –ü–æ—Å–ª–µ–¥–µ–Ω: –î–∞—Ç–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—è backup
```

### 3. –†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ backup
```
1. –ö–ª–∏–∫–Ω–∏ "–†—ä—á–µ–Ω Backup" –±—É—Ç–æ–Ω (—Å–∏–Ω)
2. –ò–∑—á–∞–∫–∞–π —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ "Backup —Å—ä–∑–¥–∞–¥–µ–Ω —É—Å–ø–µ—à–Ω–æ"
3. Backup —Ñ–∞–π–ª—ä—Ç —Å–µ –ø–æ—è–≤—è–≤–∞ –≤ —Å–ø–∏—Å—ä–∫–∞
```

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ
```
1. –ö–ª–∏–∫–Ω–∏ "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" –±—É—Ç–æ–Ω (–æ—Ä–∞–Ω–∂–µ–≤)
2. –ü—Ä–æ–º–µ–Ω–∏ –∂–µ–ª–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Retention Policy: 1-365 –¥–Ω–∏
   - Backup –ò–Ω—Ç–µ—Ä–≤–∞–ª: 1-24 —á–∞—Å–∞
   - –§–æ—Ä–º–∞—Ç: JSON –∏–ª–∏ SQL
   - –ö–æ–º–ø—Ä–µ—Å–∏—è: –í–∫–ª—é—á–∏/–∏–∑–∫–ª—é—á–∏
3. –ö–ª–∏–∫–Ω–∏ "–ó–∞–ø–∞–∑–∏"
```

### 5. –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç backup
```
1. –ù–∞–º–µ—Ä–∏ –∂–µ–ª–∞–Ω–∏—è backup —Ñ–∞–π–ª –≤ —Å–ø–∏—Å—ä–∫–∞
2. –ö–ª–∏–∫–Ω–∏ "–í—ä–∑—Å—Ç–∞–Ω–æ–≤–∏" –±—É—Ç–æ–Ω (–∑–µ–ª–µ–Ω)
3. –ü–æ—Ç–≤—ä—Ä–¥–∏ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ
4. –ò–∑—á–∞–∫–∞–π —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –∑–∞ —É—Å–ø–µ—à–Ω–æ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ
```

### 6. –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ backup
```
1. –ù–∞–º–µ—Ä–∏ backup —Ñ–∞–π–ª–∞ –≤ —Å–ø–∏—Å—ä–∫–∞
2. –ö–ª–∏–∫–Ω–∏ "–ò–∑—Ç—Ä–∏–π" –±—É—Ç–æ–Ω (—á–µ—Ä–≤–µ–Ω)
3. –ü–æ—Ç–≤—ä—Ä–¥–∏ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ
4. Backup —Ñ–∞–π–ª—ä—Ç —Å–µ –∏–∑—Ç—Ä–∏–≤–∞
```

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º: "Failed to load backups"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º —Å API endpoint –∏–ª–∏ database –≤—Ä—ä–∑–∫–∞
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ —Å—ä—Ä–≤—ä—Ä—ä—Ç —Ä–∞–±–æ—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä–∏ database –≤—Ä—ä–∑–∫–∞—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–∏ –ø—Ä–∞–≤–∞—Ç–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ `backups/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞

### –ü—Ä–æ–±–ª–µ–º: "Backup failed"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º —Å Node.js backup —Å–∫—Ä–∏–ø—Ç–∞
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ `backup-database-node.js` —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
2. –ü—Ä–æ–≤–µ—Ä–∏ database credentials
3. –ü—Ä–æ–≤–µ—Ä–∏ –ø—Ä–∞–≤–∞—Ç–∞ –∑–∞ –ø–∏—Å–∞–Ω–µ –≤ `backups/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞

### –ü—Ä–æ–±–ª–µ–º: "Restore failed"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º —Å restore —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ database
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ backup —Ñ–∞–π–ª—ä—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
2. –ü—Ä–æ–≤–µ—Ä–∏ database permissions
3. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ backup —Ñ–∞–π–ª—ä—Ç –µ –≤–∞–ª–∏–¥–µ–Ω

### –ü—Ä–æ–±–ª–µ–º: Retention policy –Ω–µ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏—è —Ñ–∞–π–ª
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏ `backup-config.json` —Ñ–∞–π–ª–∞
2. –ü—Ä–æ–≤–µ—Ä–∏ –ø—Ä–∞–≤–∞—Ç–∞ –∑–∞ –ø–∏—Å–∞–Ω–µ
3. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π —Å—ä—Ä–≤—ä—Ä–∞

### –ü—Ä–æ–±–ª–µ–º: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup –Ω–µ —Ä–∞–±–æ—Ç–∏
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º —Å—ä—Å scheduled task
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏ Windows Task Scheduler
2. –ü—Ä–æ–≤–µ—Ä–∏ `start-backup-scheduler.bat`
3. –ü—Ä–æ–≤–µ—Ä–∏ Node.js installation

---

## üõ†Ô∏è –ü–æ–¥–¥—Ä—ä–∂–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup
```batch
# –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω backup
start-backup-scheduler.bat
```

### –†—ä—á–µ–Ω backup
```bash
# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ backup
node backup-database-node.js

# –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç backup
node restore-database-node.js
```

### PowerShell Scheduled Task
```powershell
# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ scheduled task
.\setup-backup-scheduler-simple.ps1
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ
```bash
# –°–ø–∏—Å—ä–∫ –Ω–∞ backup —Ñ–∞–π–ª–æ–≤–µ
dir backups\

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–º–µ—Ä–∞
dir backups\ /s
```

### –õ–æ–≥–æ–≤–µ
- Backup –ª–æ–≥–æ–≤–µ: `backup-database-node.js` console output
- API –ª–æ–≥–æ–≤–µ: Server console output
- Error –ª–æ–≥–æ–≤–µ: Browser console (F12)

---

## üìù –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –±–µ–ª–µ–∂–∫–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç
- –í—Å–∏—á–∫–∏ API endpoints –∏–∑–∏—Å–∫–≤–∞—Ç `x-admin-token`
- Backup —Ñ–∞–π–ª–æ–≤–µ—Ç–µ —Å–µ –∑–∞–ø–∞–∑–≤–∞—Ç –ª–æ–∫–∞–ª–Ω–æ
- –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ—Ç–æ –ø—Ä–µ–∑–∞–ø–∏—Å–≤–∞ —Ü—è–ª–∞—Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç
- Backup —Ñ–∞–π–ª–æ–≤–µ—Ç–µ —Å–µ –∫–æ–º–ø—Ä–µ—Å–∏—Ä–∞—Ç –∞–∫–æ –µ –≤–∫–ª—é—á–µ–Ω–æ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞—Ç–∞ —Å–µ –∫–µ—à–∏—Ä–∞ –∑–∞ –ø–æ-–±—ä—Ä–∑–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
- UI –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ –∑–∞ –ø–ª–∞–≤–Ω–æ—Å—Ç

### Backup —Ñ–æ—Ä–º–∞—Ç–∏
- **JSON**: –†–µ–∫–æ–º–µ–Ω–¥—É–≤–∞–Ω, –ø–æ-–º–∞–ª—ä–∫ —Ä–∞–∑–º–µ—Ä, –ø–æ-–ª–µ—Å–µ–Ω –∑–∞ —á–µ—Ç–µ–Ω–µ
- **SQL**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω —Ñ–æ—Ä–º–∞—Ç, –ø–æ-–≥–æ–ª—è–º —Ä–∞–∑–º–µ—Ä, –ø–æ-—Ç—Ä—É–¥–µ–Ω –∑–∞ —á–µ—Ç–µ–Ω–µ

### Retention Policy
- –°—Ç–∞—Ä–∏ backup —Ñ–∞–π–ª–æ–≤–µ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- Retention policy —Å–µ –ø—Ä–∏–ª–∞–≥–∞ –ø—Ä–∏ –≤—Å—è–∫–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ retention –¥–Ω–∏

---

## üìû –ü–æ–¥–¥—Ä—ä–∂–∫–∞

–ó–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏ –ª–æ–≥–æ–≤–µ—Ç–µ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–∏ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –≤ `backups/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–∏ `backup-config.json` —Ñ–∞–π–ª–∞
4. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π —Å—ä—Ä–≤—ä—Ä–∞ –∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

**–í–∞–∂–Ω–æ**: –í–∏–Ω–∞–≥–∏ —Ç–µ—Å—Ç–≤–∞–π backup –∏ restore —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ –≤ development —Å—Ä–µ–¥–∞ –ø—Ä–µ–¥–∏ –¥–∞ –≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞—à –≤ production! 